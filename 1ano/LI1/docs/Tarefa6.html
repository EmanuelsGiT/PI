<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:bot">bot</a> :: Int -&gt; <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a></li><li class="src short"><a href="#v:botOri">botOri</a> :: Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a> -&gt; <a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a></li><li class="src short"><a href="#v:coordsGList">coordsGList</a> :: [<a href="Datatype.html#t:Player" title="Datatype">Player</a>] -&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>]</li><li class="src short"><a href="#v:closeGCoords">closeGCoords</a> :: [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>] -&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a> -&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>]</li><li class="src short"><a href="#v:scapeMode">scapeMode</a> :: Int -&gt; <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a></li><li class="src short"><a href="#v:possibleOri">possibleOri</a> :: <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a> -&gt; [<a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a>]</li><li class="src short"><a href="#v:bestOri">bestOri</a> :: [<a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a>] -&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a> -&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>] -&gt; <a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:bot" class="def">bot</a> :: Int -&gt; <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a> <a href="#v:bot" class="selflink">#</a></p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Na tarefa 6 tinhamos como objetivo implementar um rob&#244; que ao analisar o estado de jogo efetuava movimentos
 conforme essa analise.
Para calcuar qual o melhor movimento, n&#243;s comparamos as posi&#231;&#245;es dos fantasmas com as poss&#237;veis posi&#231;&#245;es 
para onde o pacman se poderia dirigir.</p><h1>Objetivos e Desenvolvimento</h1><p>Para uma melhor an&#225;lise do estado de jogo decidimos que o pacman iria apenas receber as posi&#231;&#245;es dos fantasmas
 que estivessem mais pr&#243;ximos (ou seja, todos os fantasmas que estivessem a uma dist&#226;ncia inferior ou igual a 7).</p><p>Establecemos que este rob&#244; tem duas formas diferentes de agir:</p><ul><li>Se existirem fantasmas dentro da &#225;rea establecida (a uma dist&#226;ncia inferior ou igual a 7), o pacman decidir&#225; 
      os seus movimentos de acordo com o seu &quot;modo de fuga&quot; ou seja, ele movimentar-se-&#225; avaliando os movimentos poss&#237;veis 
      dos fanatasmas e escolhendo o melhor movimento para se afastar do fantasma mais pr&#243;ximo. Caso existam dois fantasmas &#224;
      mesma dist&#226;ncia do pacman, este ir&#225; movimentar-se calculando o ponto m&#233;dio entre eles e afastar-se dessa posi&#231;&#227;o.  </li><li>Caso n&#227;o exista nenhum fantasma nas circunst&#226;ncias anteriores o pacman ir&#225; movimentar-se da mesma forma que os fantasmas 
      no estado Dead da Tarefa anterior (scatterMode).      </li></ul><p>Caso n&#227;o haja um movimento ideal (ou seja, caso todos os movimentos poss&#237;veis sejam igualmente desvantajosos) o pacman continuar&#225; 
com a orienta&#231;&#227;o anterior o que far&#225; com que a fun&#231;&#227;o bot devolva um Nothing.</p><h1>Discuss&#227;o e Conlus&#227;o</h1><p>Ap&#243;s a realiza&#231;&#227;o desta Tarefa, obtivemos um rob&#244; que se movimenta pelo mapa sem qualquer limita&#231;&#227;o, que decide
 sempre os seus movimentos de acordo com a posi&#231;&#245;es dos fantasmas e, por isso, consegue sobreviver durante bastante tempo.</p><p>Recbe o identificar do pacman e o estado de jogo e devolve a melhor jogada. (Fun&#231;&#227;o Principal)</p></div></div><div class="top"><p class="src"><a id="v:botOri" class="def">botOri</a> :: Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a> -&gt; <a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a> <a href="#v:botOri" class="selflink">#</a></p><div class="doc"><p>Recebe as jogadas do bot e devolve a orienta&#231;&#227;o das jogadas. </p></div></div><div class="top"><p class="src"><a id="v:coordsGList" class="def">coordsGList</a> :: [<a href="Datatype.html#t:Player" title="Datatype">Player</a>] -&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>] <a href="#v:coordsGList" class="selflink">#</a></p><div class="doc"><p>Recebe a lista de jogadores e devolve a lista de coordenadas dos fantasmas. </p></div></div><div class="top"><p class="src"><a id="v:closeGCoords" class="def">closeGCoords</a> :: [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>] -&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a> -&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>] <a href="#v:closeGCoords" class="selflink">#</a></p><div class="doc"><p>Compara cada elemento da lista de coordenadas dos fantasmas com as coordenadas do pacman e devolve as coordenadas mais pr&#243;ximas ao pacman.</p></div></div><div class="top"><p class="src"><a id="v:scapeMode" class="def">scapeMode</a> :: Int -&gt; <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; Maybe <a href="Datatype.html#t:Play" title="Datatype">Play</a> <a href="#v:scapeMode" class="selflink">#</a></p><div class="doc"><p>Recebe o identificador do pacman e o estdo de jogo e devolve a melhor jogada (caso n&#227;o exista devolve Nothing).</p></div></div><div class="top"><p class="src"><a id="v:possibleOri" class="def">possibleOri</a> :: <a href="Datatype.html#t:State" title="Datatype">State</a> -&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a> -&gt; [<a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a>] <a href="#v:possibleOri" class="selflink">#</a></p><div class="doc"><p>Recebe o estado de jogo e as coordenas do pacman e devolve as orienta&#231;&#245;es que n&#227;o coincidem com parede.</p></div></div><div class="top"><p class="src"><a id="v:bestOri" class="def">bestOri</a> <a href="#v:bestOri" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a>]</td><td class="doc"><p>Lista de orient&#231;&#245;es poss&#237;veis.</p></td></tr><tr><td class="src">-&gt; <a href="Datatype.html#t:Coords" title="Datatype">Coords</a></td><td class="doc"><p>Coordenadas do pacman.</p></td></tr><tr><td class="src">-&gt; [<a href="Datatype.html#t:Coords" title="Datatype">Coords</a>]</td><td class="doc"><p>Lista das coordenadas dos fantasmas mais pr&#243;ximos.</p></td></tr><tr><td class="src">-&gt; <a href="Datatype.html#t:Orientation" title="Datatype">Orientation</a></td><td class="doc"><p>Melhor orienta&#231;&#227;o</p></td></tr></table></div><div class="doc"><p>Recebe a lista de orienta&#231;&#245;es poss&#237;veis, as corrdenadas do pacman e a lista das coordenadas dos fantasmas mais pr&#243;ximos e devolve a melhor orienta&#231;&#227;o.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>